<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Barlow Semi Condensed">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fjalla One">
    <link rel="stylesheet" href="cart.css">
    <title> your cart </title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<nav class="navigation">
    <div id="brand"><a href="homepage.html">basics.</a></div>
    <div class="products">
        <a href="spring.html">Spring Collection</a>
        <a href="products.html">Winter Collection</a>
        <a href="reviews.html">Reviews</a>
        <a href="reach_out.html">Reach Out</a>
        <a href="cart.html">Shopping Cart</a>
    </div>
    <div class="search-bar">
        <input type="text" placeholder="Search...">
        <button type="go">Submit</button>
    </div>
</nav>

<body>
    <main id="backBox">
        <section id="yourShoppingCart">
            <h1> Your Shopping Cart </h1>
        </section>

        <section id="itemBackground">

            <section id="itemSection">

                <div class="cartItem">
                    
                    <div class="imageItem">
                        <img src="images/beanie 1.png" width="100%" height="100%">
                    </div>

                    <div class="itemInfo">
                        <p class> ITEM NAME: Beanie </p>
                        <p> COLOR: Brown </p>
                        <p> SIZE: Large </p>
                        <p>$22.00</p>
                    </div>

                    <div class="buttonSection">
                        <button type="button" class="remAndQuan"> Quantity: 2 </button>
                        <button type="button" class="remAndQuan"> Remove </button>
                    </div>
                </div>

                <div class="cartItem">
                    <div class="imageItem">
                        <img src="images/scarf 1.png" width="100%" height="100%">
                    </div>

                    <div class="itemInfo">
                        <p class> ITEM NAME: basics. scarf </p>
                        <p> COLOR: Gray </p>
                        <p> SIZE: One Size </p>
                        <p>$35.00</p>
                    </div>

                    <div class="buttonSection">
                        <button type="button" class="remAndQuan"> Quantity: 2 </button>
                        <button type="button" class="remAndQuan"> Remove </button>
                    </div>
                </div>
            </section>

            <section id="orderSection">

                <div id="top">
                    <h2>Order Summary</h2>
                </div>

                <div id="orderSummaryInfo">
                    <div>
                        <p> basics. beanie: $22.00 </p>
                        <p> basics. scarf: $35.00 </p>
                        <hr>
                        <p>Delivery Fee: $15.00</p>
                        <p>Tax: $2.70</p>
                        <hr>
                        <p>Total: $74.70</p>

                    </div>
                </div>
                <div class="bottom">
                    <button type="button" class="checkoutButton"> Proceed To Checkout </button>
                </div>
            </section>
        </section>
        <script>
            // Fetch cart data from server
            fetch('/api/cart')
              .then(response => response.json())
              .then(data => {
                const itemSection = document.getElementById('itemSection');
                itemSection.innerHTML = ''; // Clear existing cart items
                data.items.forEach(item => {
                  itemSection.innerHTML += `
                    <div class="cartItem">
                        <div class="imageItem">
                            <img src="images/${item.name.toLowerCase().replace(/\s+/g, '-')}.png" width="100%" height="100%">
                        </div>
                        <div class="itemInfo">
                            <p>ITEM NAME: ${item.name}</p>
                            <p>PRICE: $${item.price.toFixed(2)}</p>
                            <p>QUANTITY: ${item.quantity}</p>
                        </div>
                    </div>
                  `;
                });
                // Update order summary
                const orderSummaryInfo = document.getElementById('orderSummaryInfo');
                orderSummaryInfo.innerHTML = `
                    <div>
                        <p>Subtotal: $${data.totals.subtotal.toFixed(2)}</p>
                        <p>Delivery Fee: $${data.totals.delivery.toFixed(2)}</p>
                        <p>Tax: $${data.totals.tax.toFixed(2)}</p>
                        <hr>
                        <p>Total: $${data.totals.total.toFixed(2)}</p>
                    </div>
                `;
              })
              .catch(error => console.error('Error fetching cart data:', error));
            
            // Event listeners for buttons need to be added for (Add, remove)
            
            </script>
    </main>
</body>

</html>